<template>
  <transition name="loading-">
    <div v-if="isShow" class="loading">
      <div
        class="loading__svg-wrapper"
        :class="{ 'loading__svg-wrapper--is-active': !isLoading }"
      >
        <svg
          class="loading__svg"
          :class="{ 'loading__svg--is-active': !isLoading }"
          viewBox="0 0 264.58334 264.58335"
          height="1000.0001"
          width="1000.0001"
        >
          <g transform="translate(-23.903159,-24.732505)">
            <!-- prettier-ignore -->
            <path class="kane-a" d="m 92.862914,52.629444 c -0.422,0.01657 -0.86216,0.114571 -1.23179,0.326015 -0.73924,0.422868 -1.06187,1.011087 -1.24121,1.4431 -0.35867,0.864031 -0.350457,1.488179 -0.34722,2.238892 0.0033,0.750714 0.07566,1.587488 0.20739,2.553117 0.52691,3.862354 1.9073,9.280092 1.36298,17.285793 -0.54433,8.005803 -3.119176,18.816411 -3.966372,25.935749 -0.42359,3.55959 -0.48689,6.22735 0.352724,8.52973 0.83961,2.30239 3.039398,3.9138 5.389048,4.29945 2.377,0.39012 4.98033,0.0402 7.532876,-0.32367 1.84487,-0.26287 3.25926,-0.4404 4.64353,-0.59938 -0.34967,0.33116 -0.49724,0.53034 -0.95291,0.92618 -4.711426,4.09279 -15.10452,11.4087 -20.258399,15.7185 -1.288409,1.07742 -2.241082,1.94834 -2.941976,2.75188 -0.350452,0.40176 -0.651041,0.74917 -0.923838,1.36611 -0.136398,0.30846 -0.294259,0.71075 -0.261598,1.34806 0.03266,0.63729 0.455528,1.5222 1.042461,1.96236 1.173862,0.88029 1.887987,0.58231 2.432142,0.49255 0.54415,-0.0897 1.034942,-0.24231 1.608857,-0.45093 1.147828,-0.41722 2.584216,-1.07254 4.438497,-2.01027 7.416888,-3.75089 21.308964,-11.99439 28.812554,-16.94168 3.75177,-2.47365 5.91973,-4.05988 7.31917,-5.77473 1.39946,-1.71485 1.60671,-4.08262 1.12495,-5.63568 -0.96363,-3.10658 -3.6544,-6.89116 -8.38758,-8.40248 -4.73364,-1.51147 -10.29858,-0.53731 -13.18272,-0.64967 -1.4142,-0.0551 -1.72197,-0.19536 -2.06055,-0.59076 -0.33863,-0.3954 -0.89318,-1.6729 -1.19646,-4.362287 -0.60874,-5.39815 -0.4526,-15.883567 -1.46431,-23.894844 -1.011736,-8.011364 -3.037736,-13.156163 -4.797506,-15.685571 -0.43992,-0.632324 -0.74262,-1.235525 -1.93016,-1.692917 -0.29688,-0.114349 -0.70058,-0.179169 -1.12258,-0.162617 z" />
            <!-- prettier-ignore -->
            <path class="kane-b" d="m 97.966784,142.67587 c -2.34671,-0.0447 -5.03395,0.42776 -8.616179,1.6387 -7.164621,2.42195 -18.640684,7.56292 -24.396816,10.13392 -5.75613,2.571 -5.150191,2.39229 -8.417433,2.91212 -3.267237,0.51983 -9.77339,1.52669 -14.210268,1.51144 -4.43668,-0.0164 -6.926085,-1.03599 -9.52824,-1.19328 -0.650553,-0.0394 -1.244254,-0.0679 -2.077843,0.24588 -0.416793,0.15701 -0.974201,0.42949 -1.42582,1.11397 -0.45162,0.68443 -0.512609,1.73476 -0.296159,2.37477 0.432893,1.28005 1.089839,1.59668 1.777753,2.05509 0.687915,0.4584 1.534432,0.89568 2.657598,1.38652 4.49258,1.96328 13.701088,4.83644 24.824957,4.02922 11.123761,-0.80721 23.550927,-5.22209 30.985433,-7.29801 3.717287,-1.03794 6.210297,-1.50774 7.909957,-1.61513 1.69965,-0.10724 2.54911,0.0854 3.470666,0.45406 0.92183,0.3688 1.17375,0.39017 1.70705,1.73376 0.53332,1.34358 0.99153,4.17677 0.85785,9.26037 -0.0282,1.0752 -0.3095,2.91356 -0.38571,4.16904 -1.14054,0.16407 -2.2677,0.32374 -3.467536,0.73923 -6.63192,2.29638 -15.837852,7.65707 -21.359781,14.52449 -5.521904,6.86736 -6.734477,15.16454 -3.999361,23.08805 2.735044,7.92326 8.81824,15.31478 13.998945,18.67312 1.295182,0.83959 2.633997,1.48998 4.162757,1.6505 0.68622,0.0721 1.39322,-0.0248 2.08413,-0.19325 -0.87565,4.18559 -2.08198,9.31025 -2.56254,12.38694 -0.67084,4.29491 -0.84325,7.13251 -0.43285,9.47482 0.4104,2.3423 1.59662,4.08918 2.87992,5.37725 1.28326,1.28805 2.85495,2.50403 4.44164,3.50602 1.586676,1.00198 3.091786,1.80327 4.708736,2.12575 0.79731,0.15898 2.17141,0.16143 3.213,-0.6143 1.04159,-0.77572 1.46366,-1.77654 1.84375,-2.91841 0.76018,-2.28376 1.32895,-5.75682 2.31271,-12.06332 1.96759,-12.6131 5.12703,-34.55808 6.42836,-46.03625 0.32543,-2.87032 0.53004,-5.04487 0.6112,-6.64519 0.0405,-0.80014 0.0527,-1.45176 0.0212,-2.03384 -0.0315,-0.58205 0.0861,-0.99976 -0.50825,-1.98276 -0.29721,-0.49155 -1.20803,-1.27792 -2.23262,-1.27109 -1.02456,0.006 -1.53872,0.48104 -1.83749,0.7628 -0.0641,0.0606 -0.0551,0.10103 -0.10992,0.15798 1.65197,-5.38743 3.39442,-10.98877 4.61368,-15.43339 1.77732,-6.4788 2.91408,-11.2205 3.26018,-15.11605 0.34606,-3.89552 -0.18214,-7.10183 -1.85241,-9.77412 -3.34525,-5.35195 -10.04578,-8.11894 -14.48367,-9.83383 -2.21899,-0.85747 -4.22382,-1.41885 -6.570546,-1.46352 z m 3.747186,44.61042 c -1.04415,8.62423 -2.405226,17.39954 -4.029196,23.17133 -1.35906,4.83018 -2.95622,7.20114 -3.54766,7.63028 -0.29572,0.21461 -0.14762,0.1436 -0.27338,0.10997 -0.12578,-0.0336 -0.58543,-0.27058 -1.16423,-0.89397 -1.15756,-1.24678 -2.56634,-3.7245 -3.369324,-6.55564 -0.802989,-2.83113 -1.036624,-6.00846 -0.300086,-8.81494 1.47298,-5.61264 7.52149,-11.23871 11.243926,-13.79785 0.62711,-0.43112 1.01128,-0.61831 1.43995,-0.84919 z" />
            <!-- prettier-ignore -->
            <path class="nanji-a" d="m 175.76307,37.530696 c -1.82796,-8.05e-4 -3.12605,1.200558 -3.91924,2.491059 -0.79315,1.290503 -1.24589,2.873733 -1.38026,4.703237 -0.13451,1.829371 0.0426,3.319628 -0.43051,6.113343 -0.47299,2.793718 -1.59587,6.872131 -4.37328,13.227514 -5.55492,12.710944 -17.77192,34.526331 -23.97888,46.971061 -3.10612,6.22766 -4.72493,10.16978 -5.47469,13.15595 -0.7497,2.98618 -0.49223,5.21679 0.0503,6.90363 1.09494,3.40436 3.47402,7.3791 6.10156,9.92573 1.28592,1.24633 3.62232,2.56502 6.91461,2.34258 3.29237,-0.22241 7.78431,-1.48854 15.32971,-4.42121 6.40928,-2.4911 15.08935,-6.35431 24.18079,-10.45757 -1.23442,2.64752 -2.14802,5.61068 -2.788,9.00582 -1.252,6.6421 -1.64095,14.95413 -1.96001,26.14551 -0.63814,22.38269 -0.94656,56.43196 -0.58211,72.19984 0.0404,1.75421 0.12102,2.56033 0.17831,3.89255 -6.16046,-1.61219 -14.76795,-3.46848 -20.29376,-4.23113 -1.67127,-0.23067 -2.99193,-0.35474 -4.06768,-0.37081 -1.07574,-0.0164 -1.80295,-0.1774 -3.06376,0.60256 -0.63037,0.38999 -1.41419,1.57202 -1.31898,2.58926 0.0951,1.01722 0.55031,1.49457 0.88849,1.8555 0.67634,0.7219 1.37375,1.12522 2.29467,1.6356 1.8804,1.04211 4.85773,2.32702 7.90681,3.98207 3.04905,1.655 6.07834,3.69096 7.64835,5.61136 1.57991,1.93245 3.30825,5.71818 4.74489,9.53371 1.43659,3.81559 2.62796,7.62804 3.72281,10.16615 1.07754,2.49802 2.08018,4.34007 4.19892,5.13686 1.05936,0.3984 2.23932,0.31313 3.1588,0.003 0.91948,-0.31006 1.67746,-0.7856 2.44391,-1.32999 3.06613,-2.17766 6.8266,-6.04342 8.97206,-9.00582 1.07277,-1.48125 1.88702,-3.43931 1.98045,-6.79289 0.0933,-3.35358 -0.2195,-8.57556 -0.82802,-18.37302 -1.21706,-19.59485 -3.64516,-57.42089 -3.41802,-79.16787 0.11376,-10.8735 0.89726,-17.72945 2.00163,-22.23574 1.10437,-4.50621 2.4274,-6.61207 3.97266,-8.52424 3.0905,-3.82434 6.25818,-5.72631 14.52449,-8.1181 8.26632,-2.3918 21.26301,-4.98976 28.80624,-7.45824 3.77167,-1.23422 6.23865,-2.3273 7.87696,-4.1745 0.81917,-0.92363 1.36873,-2.16403 1.38418,-3.39917 0.0164,-1.23514 -0.41699,-2.32538 -0.98273,-3.27819 -2.26313,-3.81158 -7.10599,-7.18422 -11.09312,-9.082027 -1.9937,-0.94898 -4.35261,-1.47817 -7.42527,-0.90892 -3.07261,0.56925 -7.07678,1.990207 -13.88344,4.646687 -13.61331,5.31296 -38.44703,15.68074 -51.562,20.09493 -3.27875,1.10355 -5.81633,1.82821 -7.63893,2.16739 -1.8226,0.33919 -2.88586,0.20595 -3.10619,0.1186 -0.22029,-0.0872 -0.0724,0.19267 -0.17201,-0.45094 -0.0995,-0.64358 -0.0209,-2.0344 0.31738,-3.8988 1.35295,-7.45727 6.04984,-21.883557 9.5997,-33.134678 3.54967,-11.250298 5.85273,-19.100746 7.48186,-25.202026 1.62936,-6.102271 2.62907,-10.35344 2.36064,-14.011519 -0.13436,-1.829294 -0.58801,-3.40966 -1.38104,-4.700094 -0.79305,-1.29043 -2.09185,-2.493581 -3.91922,-2.494201 z" />
            <!-- prettier-ignore -->
            <path class="nanji-b" d="m 170.52956,167.28164 c -0.5465,-0.003 -0.98911,0.14087 -1.48553,0.27496 -0.7942,0.2143 -1.67056,0.55255 -2.73144,1.0393 -4.24383,1.94721 -11.40219,6.29862 -18.01952,11.60609 -3.30865,2.65372 -6.37407,5.4644 -9.03174,7.5863 -2.65769,2.12187 -5.00736,3.39394 -5.99787,3.48873 -0.9905,0.0947 -1.85148,-0.4525 -2.94512,-1.74002 -1.0936,-1.28758 -2.04726,-3.06171 -3.01345,-4.48016 -0.48312,-0.70924 -0.90047,-1.28099 -1.60022,-1.81705 -0.34988,-0.26801 -0.79997,-0.57185 -1.54995,-0.674 -0.75,-0.10224 -1.79013,0.24322 -2.33393,0.78084 -1.08765,1.07524 -0.98508,1.91358 -1.03069,2.75815 -0.0456,0.84461 0.0132,1.78646 0.14847,2.95693 0.54736,4.68183 2.33541,12.90805 5.08975,18.28424 2.75427,5.37606 6.70502,7.31046 9.37032,7.8589 1.33261,0.27418 3.12296,0.2876 4.60819,-0.65282 1.48525,-0.94041 2.49864,-2.38066 3.71423,-4.5249 2.43108,-4.28858 5.64658,-11.77461 9.01368,-17.28656 3.36703,-5.51196 6.91467,-9.1996 10.49291,-12.29506 3.57825,-3.09544 7.04822,-5.34631 9.01995,-7.49987 0.4931,-0.53855 0.92784,-1.00206 1.21217,-1.94744 0.14223,-0.47271 0.24698,-1.18916 -0.0927,-1.98043 -0.33964,-0.79129 -1.12404,-1.34926 -1.70706,-1.53816 -0.43726,-0.14177 -0.80253,-0.19624 -1.13043,-0.19797 z" />
            <!-- prettier-ignore -->
            <path class="nanji-c" d="m 228.9999,163.81096 c -0.40813,-0.001 -0.85548,0.0494 -1.4046,0.2836 -0.73218,0.31213 -1.59061,1.29643 -1.72825,2.20904 -0.2753,1.82525 0.51296,2.46599 1.15792,3.33477 0.64492,0.86875 1.50657,1.8134 2.63326,2.94826 4.50657,4.53925 13.13838,11.95773 18.92528,20.10365 5.78687,8.14588 8.91779,17.30486 12.07823,22.76989 1.58011,2.73238 3.21492,4.59361 5.3356,5.50215 2.12066,0.90853 4.39226,0.53914 6.31523,-0.27023 3.84574,-1.61868 7.77968,-4.89101 9.93205,-8.1739 1.07624,-1.64156 1.68709,-3.86933 1.08015,-6.03637 -0.60692,-2.16701 -1.99893,-4.22483 -4.26959,-7.11966 -4.5414,-5.78975 -13.00745,-15.04455 -22.24749,-21.95367 -9.24011,-6.90918 -18.87352,-11.20823 -24.06766,-12.84728 -1.29849,-0.40977 -2.30624,-0.67865 -3.34264,-0.73687 -0.12951,-0.006 -0.26144,-0.0136 -0.39749,-0.0151 z" />
          </g>
        </svg>
      </div>
      <div
        class="loading__title"
        :class="{ 'loading__title--is-active': !isLoading }"
      >
        #元素の漢字周期表
      </div>
      <div
        class="loading__version"
        :class="{ 'loading__version--is-active': !isLoading }"
      >
        v4.1.2
      </div>
    </div>
  </transition>
</template>

<script>
export default {
  props: {
    isLoading: { type: Boolean, default: true },
    isShow: { type: Boolean, default: true },
  },
}
</script>

<style lang="scss" scoped>
@use '@/assets/scss/module' as g;
@use '@/assets/scss/module/periodic-table' as pt;

$paths: (
  KaneA kane-a 10% 251px,
  KaneB kane-b 8% 437px,
  NanjiA nanji-a 6% 771px,
  NanjiB nanji-b 4% 164px,
  NanjiC nanji-c 2% 170px
);

@each $pathName, $pathClass, $delay, $strokeDashoffset in $paths {
  @keyframes strokeAnim#{$pathName} {
    #{50% - $delay * 5} {
      fill: transparent;
      stroke: transparent;
      stroke-dashoffset: $strokeDashoffset;
      transform: translateY(80px);
    }
    70% {
      fill: transparent;
      transform: translateY(0px);
    }
    80% {
      stroke: #fff;
      stroke-dashoffset: 0px;
    }
    100% {
      fill: #fff;
      stroke: #fff;
      stroke-dashoffset: 0px;
      transform: translateY(0px);
    }
  }
}

.loading {
  position: fixed;
  @include g.flexCentering;
  top: 0;
  width: 100vw;
  height: 100vh;
  color: pt.$colorWhite;
  background: linear-gradient(
    g.$colorGensokanjiMidnight,
    g.$colorGensokanjiNavy,
    g.$colorGensokanjiNavy
  );
  z-index: 1000;
  &--leave-active {
    transition: opacity, 0.8s;
  }
  &--leave-to {
    opacity: 0;
  }

  &__svg-wrapper {
    display: none;
    transform: translateY(-50px);
    &--is-active {
      display: block;
    }
  }

  &__svg {
    width: 300px;
    height: 300px;
    @include g.breakpointMax {
      width: 250px;
      height: 250px;
    }
    &--is-active {
      path {
        stroke: #fff;
        stroke-width: 1px;
        stroke-linejoin: round;
        fill: transparent;
        stroke: transparent;
        @each $pathName, $pathClass, $delay, $strokeDashoffset in $paths {
          &.#{$pathClass} {
            stroke-dasharray: $strokeDashoffset;
            stroke-dashoffset: $strokeDashoffset;
            animation: strokeAnim#{$pathName}
              2s
              cubic-bezier(0.25, 0.1, 0.1, 1)
              forwards;
          }
        }
      }
    }
  }

  &__title {
    position: absolute;
    color: rgba(pt.$colorWhite, 0.7);
    transition: 1.5s cubic-bezier(0.25, 0.25, 0, 1);
    &--is-active {
      color: pt.$colorWhite;
      transform: translateY(130px);
    }
  }

  &__version {
    position: absolute;
    color: rgba(pt.$colorWhite, 0.7);
    opacity: 0;
    transform: translateY(155px);
    transition: 0.5s 1s;
    &--is-active {
      opacity: 1;
    }
  }
}
</style>
